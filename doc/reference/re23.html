<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Class Commentator</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Reference"><link rel="up" href="index.html#header..home.hovinen.build.lela.lela.util.commentator_h" title="Header &lt;/home/hovinen/build/lela/lela/util/commentator.h&gt;"><link rel="prev" href="re22.html" title="Class ActivityState"><link rel="next" href="re24.html" title="Struct Activity"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Class Commentator</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="re22.html">Prev</a> </td><th width="60%" align="center">Header &lt;/home/hovinen/build/lela/lela/util/commentator.h&gt;</th><td width="20%" align="right"> <a accesskey="n" href="re24.html">Next</a></td></tr></table><hr></div><div class="refentry" title="Class Commentator"><a name="LELA.Commentator"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>LELA::Commentator &#8212; * </p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="index.html#header..home.hovinen.build.lela.lela.util.commentator_h" title="Header &lt;/home/hovinen/build/lela/lela/util/commentator.h&gt;">/home/hovinen/build/lela/lela/util/commentator.h</a>&gt;

</span>
<span class="keyword">class</span> <a class="link" href="re23.html" title="Class Commentator">Commentator</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// member classes/structs/unions</span>

  <span class="keyword">struct</span> <a class="link" href="re24.html" title="Struct Activity">Activity</a> <span class="special">{</span>
    <span class="comment">// <a class="link" href="re24.html#LELA.Commentator.Activityconstruct-copy-destruct">construct/copy/destruct</a></span>
    <a class="link" href="re24.html#id234696-bb"><span class="identifier">Activity</span></a><span class="special">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">,</span> <span class="keyword">unsigned</span> <span class="keyword">long</span><span class="special">)</span><span class="special">;</span>

    <span class="comment">// public data members</span>
    <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> <span class="identifier">_desc</span><span class="special">;</span>
    <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> <span class="identifier">_fn</span><span class="special">;</span>
    <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="identifier">_len</span><span class="special">;</span>
    <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="identifier">_progress</span><span class="special">;</span>
    <span class="identifier">Timer</span> <span class="identifier">_timer</span><span class="special">;</span>
    <span class="identifier">Estimator</span> <span class="identifier">_estimate</span><span class="special">;</span>
  <span class="special">}</span><span class="special">;</span>

  <span class="keyword">struct</span> <a class="link" href="re25.html" title="Struct C_str_Less">C_str_Less</a> <span class="special">{</span>

    <span class="comment">// <a class="link" href="re25.html#id234717-bb">public member functions</a></span>
    <span class="keyword">bool</span> <a class="link" href="re25.html#id234720-bb"><span class="keyword">operator</span><span class="special">(</span><span class="special">)</span></a><span class="special">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="special">}</span><span class="special">;</span>

  <span class="keyword">struct</span> <a class="link" href="re26.html" title="Struct StepsAndTime">StepsAndTime</a> <span class="special">{</span>
    <span class="comment">// <a class="link" href="re26.html#LELA.Commentator.StepsAndTimeconstruct-copy-destruct">construct/copy/destruct</a></span>
    <a class="link" href="re26.html#id234757-bb"><span class="identifier">StepsAndTime</span></a><span class="special">(</span><span class="keyword">long</span> <span class="special">=</span> <span class="number">0</span><span class="special">,</span> <span class="keyword">double</span> <span class="special">=</span> <span class="number">0</span><span class="special">.</span><span class="number">0</span><span class="special">)</span><span class="special">;</span>

    <span class="comment">// public data members</span>
    <span class="keyword">double</span> <span class="identifier">_time</span><span class="special">;</span>
    <span class="keyword">long</span> <span class="identifier">_steps</span><span class="special">;</span>
  <span class="special">}</span><span class="special">;</span>

  <span class="comment">// Message level Some default settings to use for the message level. </span>
  <span class="keyword">enum</span> <a name="LELA.Commentator.MessageLevel"></a>MessageLevel <span class="special">{</span> LEVEL_ALWAYS =   0, LEVEL_IMPORTANT =   1, 
                      LEVEL_NORMAL =   2, LEVEL_UNIMPORTANT =   3 <span class="special">}</span><span class="special">;</span>
  <span class="keyword">enum</span> <a class="link" href="re27.html" title="Type OutputFormat">OutputFormat</a><span class="special">;</span>
  <span class="keyword">enum</span> <a class="link" href="re28.html" title="Type EstimationMethod">EstimationMethod</a><span class="special">;</span>
  <span class="keyword">enum</span> <a class="link" href="re29.html" title="Type TimingDelay">TimingDelay</a><span class="special">;</span>
  <span class="comment">// <a class="link" href="re23.html#LELA.Commentatorconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="re23.html#id234869-bb"><span class="identifier">Commentator</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="re23.html#id234873-bb"><span class="identifier">Commentator</span></a><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">ostream</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="re23.html#id234880-bb"><span class="special">~</span><span class="identifier">Commentator</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="re23.html#id234883-bb">protected member functions</a></span>
  <span class="keyword">void</span> <a class="link" href="re23.html#id234886-bb"><span class="identifier">printActivityReport</span></a><span class="special">(</span><span class="identifier">Activity</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="re23.html#id234900-bb"><span class="identifier">updateActivityReport</span></a><span class="special">(</span><span class="identifier">Activity</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="re23.html#id234913-bb"><span class="identifier">finishActivityReport</span></a><span class="special">(</span><span class="identifier">Activity</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// public data members</span>
  <span class="identifier">std</span><span class="special">::</span><span class="identifier">ofstream</span> <span class="identifier">cnull</span><span class="special">;</span>  <span class="comment">// Use this stream to disable a message class entirely. </span>
<span class="special">}</span><span class="special">;</span></pre></div><div class="refsect1" title="Description"><a name="id458180"></a><h2>Description</h2><p>give information to user during runtime</p><p>This object is used for reporting information about a computation to the user. Such information includes errors and warnings, descriptions of internal progress, performance measurements, and timing estimates. It also includes facilities for controlling the type and amount of information displayed.</p><p>Typical usage follows the following pattern: </p><pre class="programlisting">    <span class="keyword">void</span> <span class="identifier">myFunction</span> <span class="special">(</span><span class="special">)</span> <span class="special">{</span>
    <span class="identifier">commentator</span><span class="special">.</span><span class="identifier">start</span> <span class="special">(</span><span class="string">"Doing important work"</span><span class="special">,</span> <span class="string">"myFunction"</span><span class="special">,</span> <span class="number">100</span><span class="special">)</span><span class="special">;</span>
    <span class="keyword">for</span> <span class="special">(</span><span class="keyword">int</span> <span class="identifier">i</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span> <span class="identifier">i</span> <span class="special">&lt;</span> <span class="number">100</span><span class="special">;</span> <span class="identifier">i</span><span class="special">++</span><span class="special">)</span> <span class="special">{</span>
    <span class="special">...</span>
    <span class="identifier">commentator</span><span class="special">.</span><span class="identifier">progress</span> <span class="special">(</span><span class="special">)</span><span class="special">;</span>
    <span class="special">}</span>
    <span class="identifier">commentator</span><span class="special">.</span><span class="identifier">stop</span> <span class="special">(</span><span class="identifier">MSG_DONE</span><span class="special">,</span> <span class="string">"Task completed successfully"</span><span class="special">)</span><span class="special">;</span>
    <span class="special">}</span>
</pre><p>In the above example, the call to commentator.start () informs the commentator that some new activity has begun. This may be invoked recursively, an the commentator keeps track of nested activities. The user may elect to disable the reporting of any activities below a certain depth of nesting. The call to commentator.stop () informs the commentator that the activity started above is finished.</p><p>The call to commentator.progress () indicates that one step of the activity is complete. The commentator may then output data to the console to that effect. This allows the easy implementation of progress bars and other reporting tools.</p><p>In addition, commentator.report () allows reporting general messages, such as warnings, errors, and descriptions of internal progress.</p><p>By default, there are two reports: a brief report that outputs to cout, and a detailed report that outputs to a file that is specified. If no file is specified, the detailed report is thrown out. The brief report is intended either for human consumption or to be piped to some other process. Therefore, there are two output formats for that report. One can further customize the report style by inheriting the commentator object.</p><p>The commentator allows very precise control over what gets printed. See the Configuration section below. </p><div class="refsect2" title="Commentator public construct/copy/destruct"><a name="id458469"></a><h3><a name="LELA.Commentatorconstruct-copy-destruct"></a><code class="computeroutput">Commentator</code> 
        public
       construct/copy/destruct</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><pre class="literallayout"><a name="id234869-bb"></a><span class="identifier">Commentator</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>Default constructor Constructs a commentator with default settings. </li><li class="listitem"><pre class="literallayout"><a name="id234873-bb"></a><span class="identifier">Commentator</span><span class="special">(</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">ostream</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span></pre></li><li class="listitem"><pre class="literallayout"><a name="id234880-bb"></a><span class="special">~</span><span class="identifier">Commentator</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>Default destructor. </li></ol></div></div><div class="refsect2" title="Commentator protected member functions"><a name="id458605"></a><h3><a name="id234883-bb"></a><code class="computeroutput">Commentator</code> protected member functions</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><pre class="literallayout"><span class="keyword">void</span> <a name="id234886-bb"></a><span class="identifier">printActivityReport</span><span class="special">(</span><span class="identifier">Activity</span> <span class="special">&amp;</span> activity<span class="special">)</span><span class="special">;</span></pre></li><li class="listitem"><pre class="literallayout"><span class="keyword">void</span> <a name="id234900-bb"></a><span class="identifier">updateActivityReport</span><span class="special">(</span><span class="identifier">Activity</span> <span class="special">&amp;</span> activity<span class="special">)</span><span class="special">;</span></pre></li><li class="listitem"><pre class="literallayout"><span class="keyword">void</span> <a name="id234913-bb"></a><span class="identifier">finishActivityReport</span><span class="special">(</span><span class="identifier">Activity</span> <span class="special">&amp;</span> activity<span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> msg<span class="special">)</span><span class="special">;</span></pre></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="re22.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html#header..home.hovinen.build.lela.lela.util.commentator_h">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="re24.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Class ActivityState </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Struct Activity</td></tr></table></div></body></html>
